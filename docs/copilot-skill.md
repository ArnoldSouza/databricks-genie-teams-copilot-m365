# Copilot Studio skill (two patterns)

*How to wire Genie into Copilot Studio as an External Web Service with a Simple and an Advanced skill.*

This guide helps **makers/admins** connect your Genie web app to **Microsoft Copilot Studio** so copilots can call Genie inside flows, topics, or actions.

## Simple Genie skill 

In this skill, you can access Genie directly. Copilot will pass the value of `Activity.Text` to Genie for processing.

<img src="images/15-copilot-skill-1.png" alt="Deploy Copilot" width="450"/>

- **Input**: `prompt` - The user’s question or instruction to be processed by Databricks Genie.
- **Output**: `answer` - The actual text answer generated by Genie based on the provided `prompt`
- **Use when**: a quick “ask Genie” step is enough.

## Advanced Genie skill (recommended)

This skill interacts with Genie in a more controlled way. You can choose what to send as input and capture the result and status with greater control. This is the **recommended** approach, as it allows you to enrich both the inputs and outputs within your flow.

<img src="images/16-copilot-skill-2.png" alt="Deploy Copilot" width="450"/>

- **Inputs**: `prompt`, optional `context`
- **Outputs (5)**:
  1. `elapsedMs` - Time (in milliseconds) that Genie took to process the request — useful for performance monitoring.
  2. `error` - Error message, if any occurred during processing. Empty or `null` means the call was successful.
  3. `response` - The actual text answer generated by Genie based on the provided `prompt`
  4. `status` - Processing status — typically values like `success`, `error`, or `timeout`. Helps manage control flow in Copilot.
  5. `traceId` - Unique identifier for the transaction, used for logging, tracing, or debugging requests across systems.

**How to wire**

<img src="images/17-add-skill.png" alt="Add skill" width="450"/>

1. Copilot Studio → Settings → Skills → **Add skill**.
2. fullfill the **Skill Manifest URL** and point to your bot:
   - Terraform already deployed a manifest.json file in `genie-M365-agent/public/manifest.json`
   - Manifest URL is: `https://<your-webapp>.azurewebsites.net/public/manifest.json`
3. Then you will see the Skill enabled in your project. 

   <img src="images/18-add-skill-2.png" alt="Add skill" width="450"/>
#  -----------------------------------------------------------------------------
#  Project: Databricks Genie – M365 Agents
#  File: databricks-genie-M365_agents/infra/env.tfpl
#  Version: 0.1.0 (documentation pass, 2025-10-02)
#  Author: Arnold Souza (arnoldporto@gmail.com | https://www.linkedin.com/in/arnoldsouza/)
#  License: MIT
#  Derived from: Luiz Carrossoni and Ryan Bates — see: https://github.com/carrossoni/DatabricksGenieBOT/tree/main
#  Description: Environment template (.env-style) for Terraform/automation.
#               This pass improves documentation and block comments only; no logic
#               or variable definitions were changed.
#  -----------------------------------------------------------------------------
#  Purpose:
#    Template for environment variables used by Terraform/render steps to provision
#    and connect services (Microsoft Entra/Azure + Databricks).

#  Format:
#    .env-style key=value pairs. Interpolation tokens use {...} and must be provided
#    by your templating/rendering process (e.g., Terraform).

#  Usage:
#    1) Render this template (replacing {...} tokens).
#    2) Save the result as an .env file or export variables in your shell/CI.
#    3) Make sure sensitive values are stored securely (Key Vault/Secret Manager).

#  Notes:
#    - Do NOT commit the rendered file with real secrets to source control.
#    - Variable names are case-sensitive. Do not change them unless you update
#      all dependent scripts and IaC modules accordingly.
#    - This file contains secrets (client secrets). Handle per your org’s policy.
#  -----------------------------------------------------------------------------


# =========================
# Service Connection (OAuth to Microsoft Entra / Azure AD)
# These values identify the application (client) and tenant used by your
# automation/connector to authenticate against Microsoft services.
# =========================

# The Client (Application) ID of the service principal in Microsoft Entra ID.
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__CLIENTID="${client_id}"

# The Client Secret associated with the service principal (treat as highly sensitive).
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__CLIENTSECRET="${client_secret}"

# The Microsoft Entra (Azure AD) Tenant ID where the application is registered.
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__TENANTID="${tenant_id}"


# =========================
# Databricks Connection (Workspace / OAuth M2M)
# Used by automation to access a Databricks workspace and Genie/Space features.
# =========================

# The Databricks “Space” (Genie Space) identifier to target for operations.
DATABRICKS_SPACE_ID="${databricks_space_id}"

# The Databricks workspace host URL (e.g., https://adb-<workspace-id>.<region>.azuredatabricks.net).
DATABRICKS_HOST="${databricks_host}"

# OAuth client ID registered for Databricks access (app/service principal).
DATABRICKS_CLIENT_ID="${databricks_client_id}"

# OAuth client secret for the Databricks application (treat as highly sensitive).
DATABRICKS_CLIENT_SECRET="${databricks_client_secret}"

# Space-separated list of OAuth scopes required for the Databricks client (e.g., "all-apis offline_access").
DATABRICKS_OAUTH_SCOPES="${databricks_oauth_scopes}"
